<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Climate Change Mitigation Game</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f8ff;
        }
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .panel {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }
        button {
            padding: 10px;
            border: none;
            border-radius: 4px;
            background: #4CAF50;
            color: white;
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover {
            background: #45a049;
        }
        .slider-container {
            margin: 10px 0;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        .stat-box {
            background: #e8f5e9;
            padding: 10px;
            border-radius: 4px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Climate Change Mitigation Game - 2024</h1>
    
    <div class="stats">
        <div class="stat-box">
            <h3>Year</h3>
            <div id="year">2024</div>
        </div>
        <div class="stat-box">
            <h3>Temperature Change</h3>
            <div id="temperature">+1.5째C</div>
        </div>
        <div class="stat-box">
            <h3>Resources</h3>
            <div id="resources">$1000B</div>
        </div>
        <div class="stat-box">
            <h3>Biodiversity Index</h3>
            <div id="biodiversity">85%</div>
        </div>
    </div>

    <div class="dashboard">
        <div class="panel">
            <h2>Emissions Control</h2>
            <div class="slider-container">
                <label>Fossil Fuel Usage</label>
                <input type="range" id="fossilFuels" min="0" max="100" value="80">
                <span id="fossilFuelsValue">80%</span>
            </div>
            <div class="slider-container">
                <label>Renewable Energy</label>
                <input type="range" id="renewables" min="0" max="100" value="20">
                <span id="renewablesValue">20%</span>
            </div>
        </div>
        
        <div class="panel">
            <h2>Conservation Efforts</h2>
            <div class="slider-container">
                <label>Reforestation Rate</label>
                <input type="range" id="reforestation" min="0" max="100" value="30">
                <span id="reforestationValue">30%</span>
            </div>
            <div class="slider-container">
                <label>Habitat Protection</label>
                <input type="range" id="habitatProtection" min="0" max="100" value="40">
                <span id="habitatProtectionValue">40%</span>
            </div>
        </div>
    </div>

    <div class="panel">
        <h2>Actions</h2>
        <div class="actions">
            <button onclick="investRenewables()">Invest in Renewables ($100B)</button>
            <button onclick="plantTrees()">Plant Trees ($50B)</button>
            <button onclick="developTechnology()">Develop New Technology ($200B)</button>
            <button onclick="protectHabitat()">Protect Habitats ($75B)</button>
        </div>
    </div>

    <div class="panel">
        <canvas id="climateChart"></canvas>
    </div>

    <script>
        // Game State
        let gameState = {
            year: 2024,
            temperature: 1.5,
            resources: 1000,
            biodiversity: 85,
            ghgEmissions: 100,
            history: {
                temperature: [],
                biodiversity: [],
                emissions: []
            }
        };

        // Initialize Chart
        const ctx = document.getElementById('climateChart').getContext('2d');
        const climateChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: 'Temperature Change (째C)',
                    data: [],
                    borderColor: 'rgb(255, 99, 132)',
                    tension: 0.1
                }, {
                    label: 'Biodiversity Index (%)',
                    data: [],
                    borderColor: 'rgb(75, 192, 192)',
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: false
                    }
                }
            }
        });

        // Game Actions
        function investRenewables() {
            if (gameState.resources >= 100) {
                gameState.resources -= 100;
                gameState.ghgEmissions -= 5;
                updateGameState();
            }
        }

        function plantTrees() {
            if (gameState.resources >= 50) {
                gameState.resources -= 50;
                gameState.biodiversity += 2;
                gameState.ghgEmissions -= 2;
                updateGameState();
            }
        }

        function developTechnology() {
            if (gameState.resources >= 200) {
                gameState.resources -= 200;
                gameState.ghgEmissions -= 10;
                updateGameState();
            }
        }

        function protectHabitat() {
            if (gameState.resources >= 75) {
                gameState.resources -= 75;
                gameState.biodiversity += 5;
                updateGameState();
            }
        }

        // Update Game State
        function updateGameState() {
            // Update temperature based on emissions
            gameState.temperature += (gameState.ghgEmissions / 1000);
            
            // Update biodiversity based on temperature
            gameState.biodiversity -= (gameState.temperature / 10);
            
            // Add new resources (simplified)
            gameState.resources += 50;
            
            // Advance year
            gameState.year++;
            
            // Update history
            gameState.history.temperature.push(gameState.temperature);
            gameState.history.biodiversity.push(gameState.biodiversity);
            gameState.history.emissions.push(gameState.ghgEmissions);
            
            // Update UI
            updateUI();
        }

        // Update UI elements
        function updateUI() {
            document.getElementById('year').textContent = gameState.year;
            document.getElementById('temperature').textContent = `+${gameState.temperature.toFixed(1)}째C`;
            document.getElementById('resources').textContent = `$${gameState.resources}B`;
            document.getElementById('biodiversity').textContent = `${gameState.biodiversity.toFixed(1)}%`;
            
            // Update chart
            climateChart.data.labels.push(gameState.year);
            climateChart.data.datasets[0].data = gameState.history.temperature;
            climateChart.data.datasets[1].data = gameState.history.biodiversity;
            climateChart.update();

            // Check win/lose conditions
            checkGameStatus();
        }

        function checkGameStatus() {
            if (gameState.temperature >= 2.0) {
                alert('Game Over: Temperature rise exceeded 2.0째C!');
            } else if (gameState.biodiversity <= 50) {
                alert('Game Over: Biodiversity collapse!');
            } else if (gameState.temperature <= 1.0 && gameState.biodiversity >= 90) {
                alert('Congratulations! You've successfully mitigated climate change!');
            }
        }

        // Initialize sliders
        document.querySelectorAll('input[type="range"]').forEach(slider => {
            slider.addEventListener('input', function() {
                document.getElementById(this.id + 'Value').textContent = this.value + '%';
            });
        });

        // Start game loop
        setInterval(updateGameState, 10000); // Update every 10 seconds
    </script>
</body>
</html>
